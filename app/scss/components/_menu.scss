@use '../base'as *;
@use '../mixins'as *;
@use '../settings'as *;

.dark-theme .menu {
	@include laptop-min {
		background-color: $gray-600;
	}
}

.menu {
	@include fcsb;

	column-gap: rem(15);

	@include laptop-min {
		position: fixed;
		inset: 0;
		z-index: 10;
		display: block;
		overflow: auto;
		background-color: $gray-100-200;
		opacity: 0;
		visibility: hidden;
		transform: translateY(-130%);
		transition: opacity var(--transition-menu),
		visibility var(--transition-menu),
		transform var(--transition-menu);
		pointer-events: none;

		.header.open & {
			opacity: 1;
			visibility: visible;
			transform: translateY(0);
			pointer-events: auto;
		}
	}

	&__list {
		@include fhc;

		column-gap: rem(20);

		@include laptop-min {
			flex-direction: column;
			padding-top: calc(var(--header-height) / 2);
			padding-left: rem(50);
			width: 100%;
			gap: rem(15) 0;
		}

		@include mobile-max {
			padding-left: rem(30);
		}
	}

	&__item {
		@include laptop-min-up {
			&:nth-child(n + 5) {
				display: none;
			}
		}

		a {
			text-decoration: none;
			transition: color var(--transition);

			@include focus;

			@include hover {
				color: $accent-dark;
			}
		}
	}

	&__submenu {
		@include fcc;

		position: absolute;
		right: 0;
		top: 100%;
		border-radius: $radius;
		padding: rem(10) rem(5);
		min-width: rem(150);
		background-color: $gray-500;
		opacity: 0;
		visibility: hidden;
		transition: opacity var(--transition),
			visibility var(--transition);
		cursor: default;
		row-gap: rem(10);

		li {
			width: 100%;
			color: $white;

			a {
				display: inline-flex;
				justify-content: center;
				width: 100%;

				@include hover {
					color: $accent-light;
				}
			}
		}
	}

	&__more {
		position: relative;

		@include laptop-min {
			display: none;
		}
	}

	&__btn {
		@include focus;

		display: none;
		border: rem(2) solid $black;
		border-radius: $radius;
		padding: rem(2) rem(7);
		color: $accent;

		&.active+.menu__submenu {
			opacity: 1;
			visibility: visible;
		}
	}
}